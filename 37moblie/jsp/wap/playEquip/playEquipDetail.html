<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no" />
		<meta name="description" content="37°梦幻海水乐园" />
		<meta name="keywords" content="37°梦幻海水乐园" />
		<title>37°梦幻海水乐园</title>
		<link rel="stylesheet" href="../../../wap/style/mui.min.css" /><!--基础样式-->
		<link rel="stylesheet" href="../../../wap/style/header.css" /><!--顶部共用样式-->
		<link rel="stylesheet" href="../../../wap/style/common.css" /><!--一些共用样式-->
		<link rel="stylesheet" href="../../../wap/style/bottom.css" /><!--底部共用样式-->
		<link rel="stylesheet" href="../../../wap/style/fontStyle.css" /><!--字体 颜色样式-->	
		<link rel="stylesheet" href="../../../wap/style/pullUp.css" /><!--上拉专用-->
		<link rel="stylesheet" href="../../../wap/style/playEquipDetail.css" /><!--游乐设备详情页-->
		<link rel="stylesheet" href="../../../wap/style/rightSlide.css" /><!--侧边栏-->
		<link rel="stylesheet" href="../../../wap/style/fixedChange.css" />
	</head>
	<body>
		<div id="offCanvasWrapper" class="mui-off-canvas-wrap mui-draggable">
			<div class="mui-inner-wrap">
				<header class="mui-bar mui-bar-nav white">
						<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
						<h1 class="mui-title hLeft">游乐项目详情</h1>
						<a class="mui-icon mui-icon-info-filled mui-pull-right" id="cd-menu-trigger" href="#offCanvasSide"><span></span></a>
					</header>
				<div id="offCanvasContentScroll" class="mui-content mui-scroll-wrapper">
					<!--主题内容-->
					<div class="fixed">
						<div class="cd-main-content">
							<!--游乐项目详情 大图-->
							<div class="playTit">
								 <!--<a href="###" class="playDetailImg"><img src="../../../wap/images/playDetail01.jpg"/></a>-->
								 
								 <div id="playimages" class="play">
									<ul class="big_pic">
										<div class="prev"></div>
									    <div class="next"></div>
									    <!--<a class="mark_left" href="javascript:;"></a>-->
									    <!--<a class="mark_right" href="javascript:;"></a>-->									    
									    <li style="z-index:1;"><img src="../../../wap/images/1.jpg" /></li>
									    <li><img src="../../../wap/images/2.jpg" /></li>
									    <li><img src="../../../wap/images/3.jpg" /></li>
									   
									</ul>
									    <div id="small_pic" class="small_pic">
									    	<ul style="width:400px;">
									        	<li style=" filter: alpha(opacity:100); opacity:1;"><img src="../../../wap/images/1.jpg" /></li>
									            <li><img src="../../../wap/images/2.jpg" /></li>
									            <li><img src="../../../wap/images/3.jpg" /></li>
									           
									        </ul>       
									    </div>
									</div>

							</div>
							<!--游乐项目详情 内容-->
							<div class="playCont">
								<span>
									<i><b>A</b></i>
									<h1>滑板冲浪</h1>
								</span>
								<em>体验者利用滑板在冲浪池里乘风破浪，还可以秀一秀在水中前滚翻冲浪的绝技，让游客充分感受大海的磅礴与速度的刺激。</em>
							</div>
							
							<!--底部-->
							<footer class="bottom">
								<div class="bot_Link">
									<span id="specialIntro">首页<b>丨</b></span>
									<span>订单查询<b>丨</b></span>
									<span id="walkHyou">客服咨询</span>
								</div>
								<a href="###" class="bot_index"><img src="../../../wap/images/bot_index.png"/></a>
								<p><b>官方热线：4006-416999</b><em>版权所有 37°梦幻海水乐园  鲁ICP备13006774号</em></p>
							</footer>
						</div>
					</div>
				</div>
				
				<div class="mui-off-canvas-backdrop" id="offCanvasShow"></div>
			</div>
			<!--右侧展开-->
			<div id="offCanvasSide" class="mui-off-canvas-right">
				<div id="offCanvasSideScroll" class="mui-scroll-wrapper">
					<nav id="cd-lateral-nav" class="mui-scroll">
						<a href="###" class="logo_right"><img src="../../../wap/images/logo_right.jpg"/></a>
						<ul class="cd-navigation">
							<li class="item-has-children active">
								<a>首页</a>
							</li>

							<li class="item-has-children">
								<a>圆区介绍</a>
							</li>

							<li class="item-has-children">
								<a>游玩攻略</a>
							</li>
							<li class="item-has-children">
								<a>活动.演艺</a>
							</li>
							<li class="item-has-children">
								<a>欢乐商城</a>
							</li>
							<li class="item-has-children">
								<a>帮助.交通指南</a>
							</li>
						</ul>

					</nav>
				</div>
			</div>
			
		</div>
	</body>
	<script src="../../../wap/js/jquery-1.11.0.min.js"></script><!--jq包-->
	<script src="../../../wap/js/rem.js"></script><!--全局用-->
	<script src="../../../wap/js/mui.min.js"></script><!--全局用-->
	<script src="../../../wap/js/comUse.js"></script><!--全局用-->
	<script src="../../../wap/js/clamp.js"></script><!--段落省略...-->
	<!--<script src="../../../wap/js/playEquipMove.js"></script>设备详情轮播...-->
	<script>
		//启动右滑 返回上一级  首页除外
		mui.init({
			swipeBack: true
		});
//		window.onload=function(){
//			//侧边栏 点击li的时候 添加样式
//			addClass();
//		}
//轮播 START		
		function getStyle(obj, name) {
	if (obj.currentStyle) {
		return obj.currentStyle[name];
	} else {
		return getComputedStyle(obj, false)[name];
	}
}
//var alpha = 30;
function startMove(obj, arr, iTarget) {
	clearInterval(obj.timer);

	obj.timer = setInterval(function() {
		var cur = 0;
		if (arr == 'opacity') {
			cur = Math.round(parseFloat(getStyle(obj, arr)) * 100);
		} else {
			cur = parseInt(getStyle(obj, arr));
		}
		var speed = (iTarget - cur) / 6;
		speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
		if (cur == iTarget) {
			clearInterval(obj.timer);
		} else {
			if (arr == 'opacity') {
				obj.style.filter = 'alpha(opcity:' + (cur + speed) + ')';
				obj.style.opacity = (cur + speed) / 100;

				//	document.getElementById('tex1').value = obj.style.opacity;
			} else {
				obj.style[arr] = cur + speed + 'px';
			}
		}
	}, 30);
}

function getByClass(oParent, sClass) {
	var aEle = oParent.getElementsByTagName('*');
	var aResult = [];

	for (var i = 0; i < aEle.length; i++) {
		if (aEle[i].className == sClass) {
			aResult.push(aEle[i]);
		}
	}
	return aResult;
}

var imgLength = 5;
window.onload = function() {
	//此页面去掉倒数第一个和倒数第二个
	//$('.small_pic ul li').eq(-1).css('display','none');
	//$('.small_pic ul li').eq(-2).css('display','none');
	//$('.small_pic ul li').eq(-3).css('display','none');
	//$('.big_pic li').eq(-1).css('display','none');
	//$('.big_pic li').eq(-2).css('display','none');
	//$('.big_pic li').eq(-3).css('display','none');
	
	var oDiv = document.getElementById('playimages');
	var oBtnPrev = getByClass(oDiv, 'prev')[0];
	var oBtnNext = getByClass(oDiv, 'next')[0];
	var oMarkLeft = getByClass(oDiv, 'mark_left')[0];
	var oMarkRight = getByClass(oDiv, 'mark_right')[0];
	//var oDivSmall=document.getElementById('small_pic');
	var oDivSmall = getByClass(oDiv, 'small_pic')[0];
	var oUlSmall = oDivSmall.getElementsByTagName('ul')[0];
	var aLiSmall = oDivSmall.getElementsByTagName('li');


	var oUlBig = getByClass(oDiv, 'big_pic')[0];
	var aLiBig = oUlBig.getElementsByTagName('li');


	var nowZIndex = 2;
	var now = 0;
	oUlSmall.style.width = aLiSmall.length * aLiSmall[0].offsetWidth + 'px';

	//左右按钮
	mui('.big_pic').on('tap','.prev',function() {
		startMove(oBtnPrev, 'opacity', 100);

	});


mui('.big_pic').on('tap','.next',function() {
		startMove(oBtnNext, 'opacity', 100);
	});

	//大图切换


		mui('#small_pic').on('tap','li',function() {
			var index=$('#small_pic li').index(this);
			if (index == now) return;
			now = index;
		
			tab();


		})
		
	

	
	
	mui('.big_pic').on('tap','.prev',function() {
		now--;

		tab();
	})
	mui('.big_pic').on('tap','.next',function() {

		now++;
		tab();
	});
	function tab() {
		
		if(now<0)
			now=0;
		if(now<0||now>=imgLength)
			now = imgLength-1;
		aLiBig[now].style.zIndex=nowZIndex++;

		for (var i = 0; i < aLiSmall.length; i++) {
			startMove(aLiSmall[i], 'opacity', 30);
			
			
		}

		aLiBig[now].style.height = 0;
		startMove(aLiBig[now], 'height', 320);
		startMove(aLiSmall[now], 'opacity', 100);
		if (now == 0) {
			startMove(oUlSmall, 'left', 0);
		} else if (now == aLiSmall.length) {

			startMove(oUlSmall, 'left', -(now) * aLiSmall[0].offsetWidth);
			startMove(aLiSmall[now-1], 'opacity', 100);
		} else {
			startMove(oUlSmall, 'left', -(now - 1) * aLiSmall[0].offsetWidth);
		}
	}
	var timer = setInterval(oBtnNext.onclick, 2000);
	oDiv.onmouseover = function() {
		clearInterval(timer);
	};
	oDiv.onmouseout = function() {
		timer = setInterval(oBtnNext.onclick, 2000);
	};
};
//轮播 END		
		
		
		//右边侧边栏 侧滑START
		mui.init();
		//侧滑容器父节点
		var offCanvasWrapper = mui('#offCanvasWrapper');
		//主界面容器
		var offCanvasInner = offCanvasWrapper[0].querySelector('.mui-inner-wrap');
		//菜单容器
		var offCanvasSide = document.getElementById("offCanvasSide");

		//移动效果是否为整体移动
		var moveTogether = false;
		//侧滑容器的class列表，增加.mui-slide-in即可实现菜单移动、主界面不动的效果；
		var classList = offCanvasWrapper[0].classList;
		//变换侧滑动画移动效果；
		mui('.mui-input-group').on('change', 'input', function() {
			if(this.checked) {
				offCanvasSide.classList.remove('mui-transitioning');
				offCanvasSide.setAttribute('style', '');
				classList.remove('mui-slide-in');
				classList.remove('mui-scalable');
				switch(this.value) {
					case 'main-move':
						if(moveTogether) {
							
							//仅主内容滑动时，侧滑菜单在off-canvas-wrap内，和主界面并列
							offCanvasWrapper[0].insertBefore(offCanvasSide, offCanvasWrapper[0].firstElementChild);
						}
						break;
					case 'main-move-scalable':
						if(moveTogether) {
							//仅主内容滑动时，侧滑菜单在off-canvas-wrap内，和主界面并列
							offCanvasWrapper[0].insertBefore(offCanvasSide, offCanvasWrapper[0].firstElementChild);
						}
						classList.add('mui-scalable');
						break;
					case 'menu-move':
						classList.add('mui-slide-in');
						break;
					case 'all-move':
						moveTogether = true;
						//整体滑动时，侧滑菜单在inner-wrap内
						offCanvasInner.insertBefore(offCanvasSide, offCanvasInner.firstElementChild);
						break;
				}
				offCanvasWrapper.offCanvas().refresh();
			}
		});

		//主界面和侧滑菜单界面均支持区域滚动；
		mui('#offCanvasSideScroll').scroll();
		mui('#offCanvasContentScroll').scroll();
		//实现ios平台原生侧滑关闭页面；
		if(mui.os.plus && mui.os.ios) {
			mui.plusReady(function() { //5+ iOS暂时无法屏蔽popGesture时传递touch事件，故该demo直接屏蔽popGesture功能
				plus.webview.currentWebview().setStyle({
					'popGesture': 'none'
				});
			});
		}
		
	</script>

</html>